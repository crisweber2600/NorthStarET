<style>
    .yellowbg { background-color: yellow; color:black;font-weight:bold;}
    .whitebg {background-color: white; color:black;font-weight:bold;}
    .bluebg {background-color: #4697ce; color:white;font-weight:bold;}
</style>

<form novalidate angular-validator angular-validator-submit="saveAssessmentData(studentResult)" name="dataentry_form" ng-controller="SectionStudentResultSpellingDataEntryController">
    <div id="page-heading">
        <ol class="breadcrumb">
            <li>Data Entry</li>
            <li>Classrooms</li>
            <li class="active">{{assessment.AssessmentName}}</li>
        </ol>
        <h1><b>{{::studentResult.StudentName}}</b></h1>
        <div class="options">
            <div class="btn-toolbar">
                <print-button print-landscape="false" print-multi-page="false" fit-viewer-height="" fit-width="" html-viewer-height="" html-viewer-width="" stretch-to-fit=""></print-button>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <panel panel-class="panel-midnightblue" heading="{{assessment.AssessmentName}}">
            <div class="col-md-12 form-horizontal nsHeader">
                <div class="col-md-4">
                    <div class="row">
                        <label class="col-md-6 control-label">
                            Benchmark Date
                        </label>
                        <div class="col-md-6 form-control-static">
                            <div class="col-md-2"><div style="border:1px solid black;width:20px;height:20px;background-color:{{filterOptions.selectedBenchmarkDate.Hex}}"></div></div><div class="col-md-10 ng-binding">{{filterOptions.selectedBenchmarkDate.text}} <i class="fa fa-calendar"></i></div>
                        </div>
                    </div>
                    <div class="row">
                        <label class="col-md-6 control-label" style="padding-top:15px;">
                            Recorder
                        </label>
                        <div class="col-md-6 form-control-static">
                            <input name="primaryteacher" id="primaryteacher" validator="validateRecorder()" ui-select2="getTeacherRemoteOptions" invalid-message="'Please select a Recorder'" required-message="'Please select a Recorder'" ng-model="studentResult.Recorder" required style="width: 100%" />
                        </div>
                    </div>
                    <div class="row">
                        <label class="col-md-6 control-label" style="padding-top:15px;">
                            Date Test Taken
                        </label>
                        <div class="col-md-6 form-control-static">
                            <p class="input-group">
                                <input style="cursor:pointer" type="text" name="pikaday" id="pikaday" class="form-control" picka-day ng-model="studentResult.TestDate" required invalid-message="Please enter a valid date" required-message="'Please select a date'" default-date="{{studentResult.TestDate}}" />
                                <!--<input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="studentResult.TestDate" is-open="popup1.opened" required invalid-message="Please enter a valid date" required-message="Please select a date" close-text="Close" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>-->
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </panel>

        <div class="row">
            <div class="col-md-12">
                <uib-alert ng-repeat="alert in errors" type="{{alert.type}}" close="closeAlert($index)"><span ng-bind-html="alert.msg | safe_html"></span></uib-alert>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">

                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th ng-repeat="category in assessment.FieldCategories">
                                        {{::category.DisplayName}}
                                        <div ng-if="category.DisplayName == 'Words Spelled Correctly'">
                                            Check All
                                            <switch class="green" ng-change="switchAllWordsSpelledCorrectly()" ng-model="wscToggle.toggleWordsSpelledCorrectly"></switch>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="group in assessment.FieldGroups">
                                    <td ng-repeat="category in group.Categories">
                                        <span ng-repeat="field in category.Fields">
                                            <assessment-edit-field-custom student-result="studentResult" lookup-fields-array="lookupFieldsArray" current-field="field"></assessment-edit-field-custom>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td>
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <td style="padding-right:5px;">
                                                        <span class="obsGreen" style="border:1px solid black;display:inline-block;height:10px;width:15px;"></span>
                                                    </td>
                                                    <td style="padding-right:10px">
                                                        <strong>1 error or less</strong>
                                                    </td>
                                                    </tr>
                                                <tr>
                                                    <td style="padding-right:5px;">
                                                        <span class="obsYellow" style="border:1px solid black;display:inline-block;height:10px;width:15px;"></span>
                                                    </td>
                                                    <td style="padding-right:10px">
                                                        <strong>2 errors</strong>
                                                    </td>
                                                    </tr>
                                                <tr>
                                                    <td style="padding-right:5px;">
                                                        <span class="obsRed" style="border:1px solid black;display:inline-block;height:10px;width:15px;"></span>
                                                    </td>
                                                    <td style="padding-right:10px">
                                                        <strong>more than 2 errors</strong>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    <td class="nsCenterAlignedText" style="font-weight:bold;" ng-class="footerCellBgColor(category)" ng-repeat="category in assessment.FieldCategories | filter: {DisplayName: '!Features'}  | filter: {DisplayName: '!Comment'} | orderBy: 'SortOrder'">
                                        {{::category.AltDisplayLabel}} (<spelling-inventory-total-column current-category="category" fields="fields" student-result="studentResult"></spelling-inventory-total-column>)
                                    </td>
                                    <td>&nbsp;</td>
                                </tr>
                            </tfoot>
                        </table>

                        <button type="submit" class="btn btn-primary"><i class="fa fa-save"></i>  Save</button>
                        <a ng-click="cancel()" class="btn btn-danger"><i class=" fa fa-times"></i> Cancel</a>
                    </div>
            </div>
        </div>
    </div>
</form>
    <style>
        .table>tfoot>tr>td {
    padding: 6px 10px;
    line-height: 1.46153846;
    vertical-align: top;
    border: 1px solid #e9ecf0;
}
            .panel-body {
     overflow-x: visible !important; 
}
        .table > tbody > tr > td {
            border: 1px solid #e9ecf0;
        }

        .table > thead > tr > th {
            border-top: 1px solid #e9ecf0 !important;
            border-left: 1px solid #e9ecf0;
            border-right: 1px solid #e9ecf0;
        }

        .table > thead > tr > th {
            padding: 5px 5px;
        }

        .table > tbody > tr > td {
            padding: 3px 5px;
        }

        .panel-body {
            overflow-x: auto;
        }

        select.editable-input {
            padding: 0px 0px !important;
        }

        select.form-control {
            padding: 0px 0px !important;
        }

        .switch.checked small {
            left: 15px !important;
        }

        .switch small {
            width: 20px !important;
            height: 20px !important;
        }

        .switch {
            width: 35px !important;
            height: 20px !important;
        }

        .switchLabel {
            padding-left: 5px;
            font-size: 16px;
        }
    </style>
