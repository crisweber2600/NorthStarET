<form novalidate angular-validator angular-validator-submit="saveAssessmentData(studentResult)" name="dataentry_form"  ng-controller="SectionStudentResultHFWDataEntryController">
    <div id="page-heading">
        <ol class="breadcrumb">
            <li>Data Entry</li>
            <li>Classrooms</li>
            <li class="active">High Frequency Words</li>
        </ol>
        <h1><b>{{::studentResult.LastName}}, {{::studentResult.FirstName}}</b></h1>
        <div class="options">
            <div class="btn-toolbar">
                <a href="#" class="btn btn-default hidden-xs"><i class="fa fa-print"></i> Print</a>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <panel panel-class="panel-midnightblue" heading="{{assessment.AssessmentName}}">
            <div class="col-md-12 form-horizontal nsHeader">
                <div class="col-md-4">
                    <div class="row">
                        <label class="col-md-6 control-label">
                            Word Order
                        </label>
                        <div class="col-md-6 form-control-static">
                            <select ng-options="item for item in wordOrderOptions" ng-change="changeSortOrder(settings.selectedWordOrder)" ng-model="settings.selectedWordOrder"></select>
                        </div>
                    </div>
                    <div class="row">
                        <label class="col-md-6 control-label" style="padding-top:15px;">
                            Word Range
                        </label>
                        <div class="col-md-6 form-control-static">
                            <select ng-options="item for item in wordRangeOptions" ng-change="changeWordRange(settings.selectedWordRange)" ng-model="settings.selectedWordRange"></select>
                        </div>
                    </div>
                    <div class="row">
                        <label class="col-md-6 control-label" style="padding-top:15px;">
                            Date Words Mastered
                        </label>
                        <div class="col-md-6 form-control-static">
                            <p class="input-group">
                                <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="settings.defaultDate" is-open="popup1.opened" required invalid-message="Please enter a valid date" required-message="Please select a date" close-text="Close" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="row" ng-repeat="field in totalFields">
                        <label class="col-md-6 control-label">
                            {{::field.DisplayLabel}}
                        </label>
                        <div class="col-md-6 form-control-static">
                            <assessment-hfw-edit-field-custom default-date="settings.defaultDate" student-result="studentResult" current-field="field"></assessment-hfw-edit-field-custom> / 100 <!-- don't forget kdg -->
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="row" ng-repeat="field in commentFields">
                        <label class="col-md-3 control-label">
                            {{::field.DisplayLabel}}
                        </label>
                        <div class="col-md-9 form-control-static">
                            <assessment-hfw-edit-field-custom  student-result="studentResult" current-field="field"></assessment-hfw-edit-field-custom>                           
                        </div>
                    </div>
                </div>
            </div>
        </panel>

        <div class="row">
            <div class="col-md-12">
                <uib-alert ng-repeat="alert in errors" type="{{alert.type}}" close="closeAlert($index)"><span ng-bind-html="alert.msg | safe_html"></span></uib-alert>
            </div>
        </div>

        <div class="table-responsive">
            <div class="col-sm-6">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th width="33%">
                                Word
                            </th>
                            <th width="33%" ng-repeat="category in assessment.FieldCategories">{{category.DisplayName}}</th>
                        </tr>
                        <tr>
                            <th>&nbsp;</th>
                            <th ng-repeat="category in assessment.FieldCategories">
                                <table>
                                    <tr>
                                        <td>
                                            <switch class="green" ng-change="toggleCategory(category, 1, category.checked1)" ng-model="category.checked1"></switch>
                                        </td>
                                        <td style="padding-left:10px;">
                                            Select All
                                        </td>
                                    </tr>
                                </table>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="group in LowerFieldGroups | orderBy: settings.selectedSortOrder">
                            <td>
                                {{group.DisplayName}}
                            </td>
                            <td ng-repeat="field in group.Fields">
                                <assessment-hfw-edit-field-custom default-date="settings.defaultDate" student-result="studentResult" current-field="field"></assessment-hfw-edit-field-custom>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-sm-6">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th width="33%">
                                Word
                            </th>
                            <th width="33%" ng-repeat="category in assessment.FieldCategories">{{::category.DisplayName}}</th>
                        </tr>
                        <tr>
                            <th>&nbsp;</th>
                            <th ng-repeat="category in assessment.FieldCategories">
                                <table>
                                    <tr>
                                        <td>
                                            <switch class="green" ng-change="toggleCategory(category, 2, category.checked2)" ng-model="category.checked2"></switch>
                                        </td>
                                        <td style="padding-left:10px;">
                                            Select All
                                        </td>
                                    </tr>
                                </table>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="group in UpperFieldGroups | orderBy: settings.selectedSortOrder">
                            <td>
                                {{::group.DisplayName}}
                            </td>
                            <td ng-repeat="field in group.Fields">
                                <assessment-hfw-edit-field-custom default-date="settings.defaultDate" student-result="studentResult" current-field="field"></assessment-hfw-edit-field-custom>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
        <a ng-click="cancel()" class="btn btn-danger"><i class="fa fa-times"></i> Cancel</a>
    </div>
</form>

<style>
    .table > tbody > tr > td {
        border: 1px solid #e9ecf0;
    }

    .table > thead > tr > th {
        border-top: 1px solid #e9ecf0 !important;
        border-left: 1px solid #e9ecf0;
        border-right: 1px solid #e9ecf0;
    }

    .table > thead > tr > th {
        padding: 5px 5px;
    }

    .table > tbody > tr > td {
        padding: 3px 5px;
    }

    .panel-body {
        overflow-x: auto;
    }

    select.editable-input {
        padding: 0px 0px !important;
    }

    select.form-control {
        padding: 0px 0px !important;
    }

    .switch.checked small {
        left: 15px !important;
    }

    .switch small {
        width: 20px !important;
        height: 20px !important;
    }

    .switch {
        width: 35px !important;
        height: 20px !important;
    }

    .switchLabel {
        padding-left: 5px;
        font-size: 16px;
    }
</style>
